# （三）移动端开发之 rem 布局

## 1. rem 基础

`rem`（root em）是一个单位，类似于 `em`。区别：
- `em` 是相对于父元素字体大小。 
-  `rem` 的基准是 **相对于html元素的字体大小**。  

比如，根元素（html）设置 `font-size: 12px`，非根元素设置 `width: 2rem`，则换成 `px` 就是 `24px`。  
优点：**通过修改html元素字体的大小来改变页面中元素的大小从而整体控制整个页面**。

## 2. 媒体查询

### 2.1 定义

媒体查询（Media Query）是 CSS3 的新语法。
- 使用 `@media` 查询，可以针对不同的媒体类型定义不同的样式
- `@media` **可以针对不同屏幕尺寸设置不同的样式**
- 当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面
- 目前针对很多苹果手机、安卓手机、平板等设备都用到媒体查询

### 2.2 语法规范

```css
@media mediatype and|not|only (media feature) {
    CSS3-Code;
}
```
- 以 `@media` 开头
- mediatype 是媒体类型
- 关键字 `and`、`not`、`only`
- `media feature` 媒体特性，必须有小括号

#### 2.2.1 mediatype 查询类型

将不同终端设备划分成不同的类型，称为媒体类型。

|值|解释说明|
|-|-|
|`all`|用于所有设备|
|`print`|用于打印机和打印浏览|
|`screen`|用于电脑屏幕，平板电脑，智能手机等|

#### 2.2.2 关键字 and not only

关键字将媒体类型特性连接到一起作为媒体查询的条件。
- `and`：可以将多个类型或多个媒体类型连接到一起成为媒体查询的条件
- `not`：排除某个媒体类型，相当于 “非” 的意思，可以省略
- `only`：指定某个特定的媒体类型，可以省略

#### 2.2.3 媒体特性

每种媒体类型都具体各自不同的特性，根据不同媒体类型的媒体特性设置不同的展示风格。我们暂且了解三个，注意他们要加小括号包含。

|值|解释|
|-|-|
|`width`|定义输出设备中页面可见区域的宽度|
|`min-width`| 定义输出设备中页面最小可见区域宽度|
|`max-width`|定义输出设备中页面最大可见区域宽度|

**媒体查询的价值：媒体查询可以根据不同的屏幕尺寸改变不同的样式。**

举例
```css
/* 在屏幕上并且最大的宽度是800像素设置我们想要的样式 */
@media screen and (max-width: 800px) {
    body {
        background-color: pink;
    }
}
/* 在屏幕上并且最大的宽度是500像素设置我们想要的样式 */
@media screen and (max-width: 500px){
    body {
        background-color: purple;
    }
}
```

### 2.3 媒体查询+rem实现元素动态大小变化

`rem` 单位是跟着 `html` 来走的，有了 `rem` 页面元素可以设置不同大小尺寸媒体查询可以根据不同设备宽度来修改样式。  
**媒体查询+rem** 就可以实现不同设备宽度，实现页面元素大小的动态变化。
```css
@media screen and (min-width: 320px) {
    html {
        font-size: 50px;
    }
}
@media screen and (min-width: 640px) {
    html {
        font-size: 100px;
    }
}
```

### 2.4 引入资源（理解）

当样式比较繁多的时候，我们可以针对不同的媒体使用不同 stylesheets（样式表）。原理，**就是直接在 link 中判断设备的尺寸，然后引用不同的css文件**。

#### 2.4.1 语法规范

```css
<link rel="stylesheet" media="mediatype and|not|only (media feature)" href="mystylesheet.css">
```

举例
```css
/* 当屏幕大于 640px，一行显示两个 */
/* 小于 640px 的，一行显示一个 */
<link rel="stylesheet" href="style320.css" media="screen and (min-width: 320px)">
<link rel="stylesheet" href="style640.css" media="screen and (min-width: 640px)">
```

> [!TIP]
> 引入资源就是针对于不同的屏幕尺寸，调用不同的css文件

## 3. Less 基础

### 3.1 维护 CSS 的弊端

CSS 是一门非程序式语言，没有变量、函数、SCOPE（作用域）等概念。
- CSS 需要书写大量看似没有逻辑的代码，CSS 冗余度是比较高的。
- 不方便维护及扩展，不利于复用。
- CSS 没有很好的计算能力。
- 非前端开发工程师来讲，往往会因为缺少 CSS 编写经验而很难写出组织良好且易于维护的 CSS 代码项目。

### 3.2 Less 介绍

Less（Leaner Style Sheets的缩写）是一门 CSS 扩展语言，也称为 CSS 预处理器。  

作为CSS的一种形式的扩展，它并没有减少 CSS 的功能，而是在现有的 CSS 语法上，为 CSS 加入程序式语言的特性。  

它在CSS的语法基础之上，**引入了变量，Mixin（混入），运算以及函数等功能，大大简化了CSS的编写，并且降低了CSS的维护成本**，就像它的名称所说的那样，Less可以让我们用更少的代码做更多的事情。  

Less中文网址: http://lesscss.cn  
常见的CSS预处理器：Sass、Less、Stylus  

实质：**Less是一门 CSS 预处理语言，它扩展了 CSS 的动态特性。**

### 3.3 Less 使用

我们首先新建一个后缀名为less的文件，在这个less文件里面书写less语句。现阶段学习：
- Less变量
- Less编译
- Less嵌套
- Less运算

### 3.4 Less 变量

变量是指没有固定的值，CSS 中一些颜色和数值经常使用。
```less
@变量名:值;
```

举例
```less
// 定义一个粉色变量
@color: pink;
@font14: 14px;
body {
    background-color: @color;
}
div {
    background-color: @color;
    font-size: @font14;
}
```

#### 3.4.1 变量命名规范

- 必须有 `@` 前缀
- 不能包含特殊字符
- 不能以数字开头（除去前缀 `@` 的部分）
- 大小写敏感

### 3.5 Less 编译

本质上，Less包含一套自定义的语法及一个解析器，用户根据这些语法定义自己的样式规则，这些规则最终会通过解析器，编译生成对应的CSS文件。  

所以，我们需要把我们的less文件，编译生成为css文件，这样我们的html页面才能使用。  

在 VS Code 中，使用 Easy Less 可以即时编译生成 CSS 文件，再引入即可。

## 4. rem 适配方案
## 5. 苏宁首页案例制作
